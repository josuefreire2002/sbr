{% load static %}
{% load numeros_letras %}
{% load humanize %}
<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <style>
        @page {
            size: A5 landscape;
            margin: 5mm;
        }

        body {
            font-family: Arial, sans-serif;
            font-size: 9pt;
            margin: 0;
            padding: 0;
        }

        table {
            border-collapse: collapse;
        }

        td {
            vertical-align: top;
        }
    </style>
</head>

<body>
    <table width="100%" border="2" cellpadding="8" cellspacing="0" style="border-color: #1a4480;">
        <!-- HEADER ROW -->
        <tr>
            <td width="65%" style="border: none; border-bottom: 1px solid #ccc;">
                <span style="font-size: 14pt; font-weight: bold; color: #1a4480;">UGSHA INMOBILIARIOS</span><br>
                <span style="font-size: 7pt; color: #555;">
                    RUC: 050289591-5 | Av. 19 de Mayo, Sector El Moral, La Maná | Tel: 098 553 6655
                </span>
            </td>
            <td width="35%" style="border: none; border-bottom: 1px solid #ccc; text-align: right;">
                <span style="font-size: 12pt; font-weight: bold; color: #1a4480;">RECIBO DE ENTRADA</span><br>
                <span style="font-size: 14pt; font-weight: bold; color: #c00;">Nº {{ contrato.id }}</span><br>
                <span style="font-size: 8pt;"><b>Fecha:</b> {{ contrato.fecha_contrato|date:"d/m/Y" }}</span>
            </td>
        </tr>
        <!-- AMOUNT ROW -->
        <tr>
            <td colspan="2" style="border: none; background-color: #d4edda; text-align: center; padding: 6px;">
                <span style="font-size: 14pt; font-weight: bold; color: #155724;">
                    $ {{ contrato.valor_entrada|floatformat:2|intcomma }}
                </span>
            </td>
        </tr>
        <!-- DATA ROWS -->
        <tr>
            <td colspan="2" style="border: none; padding: 4px 8px;">
                <b>RECIBÍ DE:</b> {{ cliente.apellidos }} {{ cliente.nombres }}
            </td>
        </tr>
        <tr>
            <td colspan="2" style="border: none; padding: 4px 8px;">
                <b>CÉDULA/RUC:</b> {{ cliente.cedula }}
            </td>
        </tr>
        <tr>
            <td colspan="2" style="border: none; padding: 4px 8px;">
                <b>LA SUMA DE:</b> <i>{{ contrato.valor_entrada|numero_a_letras }} DÓLARES AMERICANOS</i>
            </td>
        </tr>
        <tr>
            <td colspan="2" style="border: none; padding: 4px 8px;">
                <b>POR CONCEPTO DE:</b> Entrada para LOTE Mz. {{ contrato.lote.manzana }} - Nº
                {{ contrato.lote.numero_lote }}
            </td>
        </tr>
        <!-- PAYMENT METHOD -->
        <tr>
            <td colspan="2" style="border: none; background-color: #fff3cd; text-align: center; padding: 6px;">
                <b>FORMA DE PAGO: {{ metodo_real_pago }}</b>
            </td>
        </tr>
        {% if metodo_real_pago == 'TRANSFERENCIA BANCARIA' %}
        <tr>
            <td colspan="2" style="border: none; padding: 4px 8px; background-color: #f0f8ff; font-size: 8pt;">
                <b>Transferencia desde:</b> {{ cliente.apellidos }} {{ cliente.nombres }}<br>
                <b>Banco origen:</b> {{ datos_bancarios.banco|default:"(NO IDENTIFICADO)" }} |
                <b>Nº Cuenta:</b> {{ datos_bancarios.cuenta|default:"(NO IDENTIFICADO)" }}<br>
                <b>Hacia la cuenta de:</b> GUILLERMO UGSHA ILAQUICHE<br>
                <b>Banco destino:</b> {{ contrato.cliente.vendedor.perfil.banco|default:"BANCO PICHINCHA" }} |
                <b>Tipo:</b> {{ contrato.cliente.vendedor.perfil.get_tipo_cuenta_display|default:"AHORROS" }} |
                <b>Nº Cuenta:</b> {{ contrato.cliente.vendedor.perfil.numero_cuenta|default:"2206573348" }}
            </td>
        </tr>
        {% endif %}
        {% if metodo_real_pago == 'DEPÓSITO' %}
        <tr>
            <td colspan="2" style="border: none; padding: 4px 8px; background-color: #f0f8ff; font-size: 8pt;">
                <b>Depósito en cuenta de:</b> GUILLERMO UGSHA ILAQUICHE<br>
                <b>Banco:</b> {{ contrato.cliente.vendedor.perfil.banco|default:"BANCO PICHINCHA" }} |
                <b>Tipo de Cuenta:</b> {{ contrato.cliente.vendedor.perfil.get_tipo_cuenta_display|default:"AHORROS"}}
                <br>
                <b>Número de Cuenta:</b> {{ contrato.cliente.vendedor.perfil.numero_cuenta|default:"2206573348" }}
            </td>
        </tr>
        {% endif %}

        <!-- SIGNATURES -->
        <tr>
            <td width="50%" style="border: none; text-align: center; padding-top: 15px;">
                <div style="border-top: 1px solid #000; width: 80%; margin: 0 auto;"></div>
                <b style="font-size: 8pt;">GUILLERMO UGSHA ILAQUICHE</b><br>
                <span style="font-size: 7pt; color: #666;">Propietario - RUC: 050289591-5</span>
            </td>
            <td width="50%" style="border: none; text-align: center; padding-top: 15px;">
                <div style="border-top: 1px solid #000; width: 80%; margin: 0 auto;"></div>
                <b style="font-size: 8pt;">{{ cliente.apellidos }} {{ cliente.nombres }}</b><br>
                <span style="font-size: 7pt; color: #666;">Cliente - C.I. {{ cliente.cedula }}</span>
            </td>
        </tr>
        <!-- FOOTER -->
        <tr>
            <td colspan="2" style="border: none; text-align: center; border-top: 1px solid #ddd; padding: 3px;">
                <span style="font-size: 6pt; color: #888;">
                    Recibo de entrada según contrato de compra-venta | {{ fecha_actual|date:"d/m/Y H:i" }}
                </span>
            </td>
        </tr>
    </table>
</body>

</html>